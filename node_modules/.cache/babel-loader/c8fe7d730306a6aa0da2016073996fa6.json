{"ast":null,"code":"import _defineProperty from\"C:/Users/yoman/OneDrive/Bureau/pvt-ex3-firestore-main/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/yoman/OneDrive/Bureau/pvt-ex3-firestore-main/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/yoman/OneDrive/Bureau/pvt-ex3-firestore-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import BtnAjoutPanier from'./BtnAjoutPanier';import AddCircleOutlineIcon from'@material-ui/icons/AddCircleOutline';import'./Produit.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Produit(_ref){var etatPanier=_ref.etatPanier,id=_ref.id,nom=_ref.nom,prix=_ref.prix;var _etatPanier=_slicedToArray(etatPanier,2),panier=_etatPanier[0],setPanier=_etatPanier[1];/**\n   * Ajouter un article au panier (mutation de l'état)\n   */function ajouterPanier(){if(panier[id]){// panier[id].qte++; // Pas une bonne pratique : il ne faut pas modifier la variable d'état\nsetPanier(_objectSpread(_objectSpread({},panier),{},_defineProperty({},id,_objectSpread(_objectSpread({},panier[id]),{},{qte:panier[id].qte+1}))));}else{// panier[id] = {nom: nom, prix: prix, qte: 1} // Idem comme ci-dessus\nsetPanier(_objectSpread(_objectSpread({},panier),{},_defineProperty({},id,{nom:nom,prix:prix,qte:1})));}// On a plus besoin de la ligne suivante puisque setPanier est maintenant utilisée directement ci-dessus\n// setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\n}// État du bouton (remarquez l'utilisation de la décomposition de tableau)\nvar _ref2=panier[id]?[panier[id].qte,/*#__PURE__*/_jsx(AddCircleOutlineIcon,{}),\"rouge\"]:[0,\"Ajouter au panier\",\"\"],_ref3=_slicedToArray(_ref2,3),qte=_ref3[0],texte=_ref3[1],classeCss=_ref3[2];return/*#__PURE__*/_jsxs(\"li\",{className:\"Produit\",children:[/*#__PURE__*/_jsx(\"img\",{src:'images-produits/'+id+'.webp',alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"nom\",children:nom}),/*#__PURE__*/_jsx(\"p\",{className:\"prix\",children:prix})]}),/*#__PURE__*/_jsx(BtnAjoutPanier,{onClick:ajouterPanier,qte:qte,texte:texte,classeCss:classeCss})]});}","map":{"version":3,"sources":["C:/Users/yoman/OneDrive/Bureau/pvt-ex3-firestore-main/src/composants/Produit.jsx"],"names":["BtnAjoutPanier","AddCircleOutlineIcon","Produit","etatPanier","id","nom","prix","panier","setPanier","ajouterPanier","qte","texte","classeCss"],"mappings":"yZAAA,MAAOA,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,qCAAjC,CACA,MAAO,gBAAP,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,MAA8C,IAA5BC,CAAAA,UAA4B,MAA5BA,UAA4B,CAAhBC,EAAgB,MAAhBA,EAAgB,CAAZC,GAAY,MAAZA,GAAY,CAAPC,IAAO,MAAPA,IAAO,gCAC/BH,UAD+B,IACpDI,MADoD,gBAC5CC,SAD4C,gBAG3D;AACF;AACA,KACE,QAASC,CAAAA,aAAT,EAAyB,CACvB,GAAGF,MAAM,CAACH,EAAD,CAAT,CAAe,CACb;AACAI,SAAS,gCAAKD,MAAL,wBAAcH,EAAd,gCAAsBG,MAAM,CAACH,EAAD,CAA5B,MAAkCM,GAAG,CAAEH,MAAM,CAACH,EAAD,CAAN,CAAWM,GAAX,CAAiB,CAAxD,KAAT,CACD,CAHD,IAIK,CACH;AACAF,SAAS,gCAAKD,MAAL,wBAAcH,EAAd,CAAkB,CAACC,GAAG,CAAHA,GAAD,CAAMC,IAAI,CAAJA,IAAN,CAAYI,GAAG,CAAE,CAAjB,CAAlB,GAAT,CACD,CACD;AACA;AACD,CAED;AAnB2D,UAqBrDH,MAAM,CAACH,EAAD,CAAN,CACI,CAACG,MAAM,CAACH,EAAD,CAAN,CAAWM,GAAZ,cAAiB,KAAC,oBAAD,IAAjB,CAA2C,OAA3C,CADJ,CAEI,CAAC,CAAD,CAAI,mBAAJ,CAAyB,EAAzB,CAvBiD,+BAoBtDA,GApBsD,UAoBjDC,KApBiD,UAoB1CC,SApB0C,UAyB3D,mBACE,YAAI,SAAS,CAAC,SAAd,wBACE,YAAK,GAAG,CAAE,mBAAqBR,EAArB,CAA0B,OAApC,CAA6C,GAAG,CAAC,EAAjD,EADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,UAAG,SAAS,CAAC,KAAb,UAAoBC,GAApB,EADF,cAEE,UAAG,SAAS,CAAC,MAAb,UAAqBC,IAArB,EAFF,GAFF,cAME,KAAC,cAAD,EAAgB,OAAO,CAAEG,aAAzB,CAAwC,GAAG,CAAEC,GAA7C,CAAkD,KAAK,CAAEC,KAAzD,CAAgE,SAAS,CAAEC,SAA3E,EANF,GADF,CAUD","sourcesContent":["import BtnAjoutPanier from './BtnAjoutPanier';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport './Produit.scss';\n\nexport default function Produit({etatPanier, id, nom, prix}) {\n  const [panier, setPanier] = etatPanier;\n\n  /**\n   * Ajouter un article au panier (mutation de l'état)\n   */\n  function ajouterPanier() {\n    if(panier[id]) {\n      // panier[id].qte++; // Pas une bonne pratique : il ne faut pas modifier la variable d'état\n      setPanier({...panier, [id]:{...panier[id], qte: panier[id].qte + 1}});\n    }\n    else {\n      // panier[id] = {nom: nom, prix: prix, qte: 1} // Idem comme ci-dessus\n      setPanier({...panier, [id]:{nom, prix, qte: 1}});\n    }\n    // On a plus besoin de la ligne suivante puisque setPanier est maintenant utilisée directement ci-dessus\n    // setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\n  } \n\n  // État du bouton (remarquez l'utilisation de la décomposition de tableau)\n  let [qte, texte, classeCss]  = \n        panier[id] \n          ? [panier[id].qte, <AddCircleOutlineIcon />, \"rouge\"] \n          : [0, \"Ajouter au panier\", \"\"];\n  \n  return(\n    <li className=\"Produit\">\n      <img src={'images-produits/' + id + '.webp'} alt=\"\"/>\n      <div className=\"info\">\n        <p className=\"nom\">{nom}</p>\n        <p className=\"prix\">{prix}</p>\n      </div>\n      <BtnAjoutPanier onClick={ajouterPanier} qte={qte} texte={texte} classeCss={classeCss} />\n    </li>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
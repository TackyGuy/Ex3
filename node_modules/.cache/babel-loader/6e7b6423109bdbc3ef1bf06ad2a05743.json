{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yoman\\\\OneDrive\\\\Bureau\\\\pvt-ex3-firestore-main\\\\pvt-ex3-firestore-main\\\\src\\\\composants\\\\Produit.jsx\";\nimport BtnAjoutPanier from './BtnAjoutPanier';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport './Produit.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Produit({\n  etatPanier,\n  id,\n  nom,\n  prix\n}) {\n  const [panier, setPanier] = etatPanier;\n  /**\n   * Ajouter un article au panier (mutation de l'état)\n   */\n\n  function ajouterPanier() {\n    if (panier[id]) {\n      // panier[id].qte++; // Pas une bonne pratique : il ne faut pas modifier la variable d'état\n      setPanier({ ...panier,\n        [id]: { ...panier[id],\n          qte: panier[id].qte + 1\n        }\n      });\n    } else {\n      // panier[id] = {nom: nom, prix: prix, qte: 1} // Idem comme ci-dessus\n      setPanier({ ...panier,\n        [id]: {\n          nom,\n          prix,\n          qte: 1\n        }\n      });\n    } // On a plus besoin de la ligne suivante puisque setPanier est maintenant utilisée directement ci-dessus\n    // setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\n\n  } // État du bouton (remarquez l'utilisation de la décomposition de tableau)\n\n\n  let [qte, texte, classeCss] = panier[id] ? [panier[id].qte, /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 30\n  }, this), \"rouge\"] : [0, \"Ajouter au panier\", \"\"];\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"Produit\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: 'images-produits/' + id + '.webp',\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"nom\",\n        children: nom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"prix\",\n        children: prix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BtnAjoutPanier, {\n      onClick: ajouterPanier,\n      qte: qte,\n      texte: texte,\n      classeCss: classeCss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_c = Produit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Produit\");","map":{"version":3,"sources":["C:/Users/yoman/OneDrive/Bureau/pvt-ex3-firestore-main/pvt-ex3-firestore-main/src/composants/Produit.jsx"],"names":["BtnAjoutPanier","AddCircleOutlineIcon","Produit","etatPanier","id","nom","prix","panier","setPanier","ajouterPanier","qte","texte","classeCss"],"mappings":";AAAA,OAAOA,cAAP,MAA2B,kBAA3B;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;AACA,OAAO,gBAAP;;AAEA,eAAe,SAASC,OAAT,CAAiB;AAACC,EAAAA,UAAD;AAAaC,EAAAA,EAAb;AAAiBC,EAAAA,GAAjB;AAAsBC,EAAAA;AAAtB,CAAjB,EAA8C;AAC3D,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,UAA5B;AAEA;AACF;AACA;;AACE,WAASM,aAAT,GAAyB;AACvB,QAAGF,MAAM,CAACH,EAAD,CAAT,EAAe;AACb;AACAI,MAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAY,SAACH,EAAD,GAAK,EAAC,GAAGG,MAAM,CAACH,EAAD,CAAV;AAAgBM,UAAAA,GAAG,EAAEH,MAAM,CAACH,EAAD,CAAN,CAAWM,GAAX,GAAiB;AAAtC;AAAjB,OAAD,CAAT;AACD,KAHD,MAIK;AACH;AACAF,MAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAY,SAACH,EAAD,GAAK;AAACC,UAAAA,GAAD;AAAMC,UAAAA,IAAN;AAAYI,UAAAA,GAAG,EAAE;AAAjB;AAAjB,OAAD,CAAT;AACD,KARsB,CASvB;AACA;;AACD,GAjB0D,CAmB3D;;;AACA,MAAI,CAACA,GAAD,EAAMC,KAAN,EAAaC,SAAb,IACEL,MAAM,CAACH,EAAD,CAAN,GACI,CAACG,MAAM,CAACH,EAAD,CAAN,CAAWM,GAAZ,eAAiB,QAAC,oBAAD;AAAA;AAAA;AAAA;AAAA,UAAjB,EAA2C,OAA3C,CADJ,GAEI,CAAC,CAAD,EAAI,mBAAJ,EAAyB,EAAzB,CAHV;AAKA,sBACE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA,4BACE;AAAK,MAAA,GAAG,EAAE,qBAAqBN,EAArB,GAA0B,OAApC;AAA6C,MAAA,GAAG,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAG,QAAA,SAAS,EAAC,KAAb;AAAA,kBAAoBC;AAApB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA,kBAAqBC;AAArB;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAME,QAAC,cAAD;AAAgB,MAAA,OAAO,EAAEG,aAAzB;AAAwC,MAAA,GAAG,EAAEC,GAA7C;AAAkD,MAAA,KAAK,EAAEC,KAAzD;AAAgE,MAAA,SAAS,EAAEC;AAA3E;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;KAnCuBV,O","sourcesContent":["import BtnAjoutPanier from './BtnAjoutPanier';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport './Produit.scss';\n\nexport default function Produit({etatPanier, id, nom, prix}) {\n  const [panier, setPanier] = etatPanier;\n\n  /**\n   * Ajouter un article au panier (mutation de l'état)\n   */\n  function ajouterPanier() {\n    if(panier[id]) {\n      // panier[id].qte++; // Pas une bonne pratique : il ne faut pas modifier la variable d'état\n      setPanier({...panier, [id]:{...panier[id], qte: panier[id].qte + 1}});\n    }\n    else {\n      // panier[id] = {nom: nom, prix: prix, qte: 1} // Idem comme ci-dessus\n      setPanier({...panier, [id]:{nom, prix, qte: 1}});\n    }\n    // On a plus besoin de la ligne suivante puisque setPanier est maintenant utilisée directement ci-dessus\n    // setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\n  } \n\n  // État du bouton (remarquez l'utilisation de la décomposition de tableau)\n  let [qte, texte, classeCss]  = \n        panier[id] \n          ? [panier[id].qte, <AddCircleOutlineIcon />, \"rouge\"] \n          : [0, \"Ajouter au panier\", \"\"];\n  \n  return(\n    <li className=\"Produit\">\n      <img src={'images-produits/' + id + '.webp'} alt=\"\"/>\n      <div className=\"info\">\n        <p className=\"nom\">{nom}</p>\n        <p className=\"prix\">{prix}</p>\n      </div>\n      <BtnAjoutPanier onClick={ajouterPanier} qte={qte} texte={texte} classeCss={classeCss} />\n    </li>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}